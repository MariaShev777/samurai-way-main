"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[153],{8153:function(s,t,e){e.r(t),e.d(t,{default:function(){return D}});var i=e(8683),n=e(2791),r=e(7774),o="MyPosts_postsBlock__rpM84",l="MyPosts_posts__Skefa",a="MyPosts_addPostBlock__3+dph",u="Post_item__Qmn6K",c="Post_likes__HlpcB",d=e(8678),h=(e(165),e(184)),f=function(){return(0,h.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4.45067 13.9082L11.4033 20.4395C11.6428 20.6644 11.7625 20.7769 11.9037 20.8046C11.9673 20.8171 12.0327 20.8171 12.0963 20.8046C12.2375 20.7769 12.3572 20.6644 12.5967 20.4395L19.5493 13.9082C21.5055 12.0706 21.743 9.0466 20.0978 6.92607L19.7885 6.52734C17.8203 3.99058 13.8696 4.41601 12.4867 7.31365C12.2913 7.72296 11.7087 7.72296 11.5133 7.31365C10.1304 4.41601 6.17972 3.99058 4.21154 6.52735L3.90219 6.92607C2.25695 9.0466 2.4945 12.0706 4.45067 13.9082Z",fill:"dimgrey",stroke:"dimgrey"})})},x=function(){return(0,h.jsx)("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4.45067 13.9082L11.4033 20.4395C11.6428 20.6644 11.7625 20.7769 11.9037 20.8046C11.9673 20.8171 12.0327 20.8171 12.0963 20.8046C12.2375 20.7769 12.3572 20.6644 12.5967 20.4395L19.5493 13.9082C21.5055 12.0706 21.743 9.0466 20.0978 6.92607L19.7885 6.52734C17.8203 3.99058 13.8696 4.41601 12.4867 7.31365C12.2913 7.72296 11.7087 7.72296 11.5133 7.31365C10.1304 4.41601 6.17972 3.99058 4.21154 6.52735L3.90219 6.92607C2.25695 9.0466 2.4945 12.0706 4.45067 13.9082Z",fill:"white",stroke:"dimgrey"})})},j=function(s){return(0,h.jsxs)("div",{className:u,children:[(0,h.jsx)("img",{src:"https://i2.wp.com/vdostavka.ru/wp-content/uploads/2019/05/no-avatar.png?fit=512%2C512&ssl=1",alt:"picture"}),s.message,(0,h.jsx)("div",{className:c,children:(0,h.jsxs)("span",{children:[(0,h.jsx)(f,{}),(0,h.jsx)(x,{}),s.likesCount]})})]})},p=e(3079),v=e(704),m=e(3738),g=(0,v.Z)({form:"profileAddNewPostForm"})((function(s){return(0,h.jsx)("div",{className:a,children:(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)("div",{className:"generalInput",children:(0,m.Gr)("Post your message","newPostText",[p.C],m.Kx)}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:"button",children:"Add post"})})]})})})),b=n.memo((function(s){var t=s.posts.map((function(s){return(0,h.jsx)(j,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(g,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,h.jsx)("div",{className:l,children:t})]})})),C=e(364),k=(0,C.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,r.Wl)(t))}}}))(b),_=e(885),P="profileInfo_descriptionBlock__sQJEE",w="profileInfo_avaAndButtonBlock__wAd6m",N="profileInfo_statusAndNameBlock__YPkKA",S="profileInfo_contactsBlock__4SKbV",y="profileInfo_button__xuGzz",A=e(7117),I=(0,v.Z)({form:"edit-profile"})((function(s){var t,e=s.handleSubmit,i=s.profile,n=s.error;return(0,h.jsxs)("form",{onSubmit:e,children:[(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{className:"button",children:"Save"})}),n&&(0,h.jsxs)("div",{className:A.Z.formSummaryError,children:[" ",n," "]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Name:"})," ",(0,m.Gr)("Name","fullName",[],m.II)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job:"}),(0,m.Gr)("","lookingForAJob",[],m.II,{type:"checkbox"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills:"}),(0,m.Gr)("My professional skills","lookingForAJobDescription",[],m.Kx)]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me:"}),(0,m.Gr)("About me","aboutMe",[],m.Kx)]})]}),(0,h.jsx)("div",{className:S,children:(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts:"})," ",Object.keys(null!==(t=i.contacts)&&void 0!==t?t:{}).map((function(s){return(0,h.jsxs)("div",{children:[(0,h.jsxs)("b",{children:[s,":"]})," ",(0,m.Gr)(s,"contacts."+s,[],m.II)]})}))]})})]})})),M=function(s){var t=(0,n.useState)(!1),e=(0,_.Z)(t,2),i=e[0],r=e[1],o=(0,n.useState)(s.status),l=(0,_.Z)(o,2),a=l[0],u=l[1];(0,n.useEffect)((function(){u(s.status)}),[s.status]);return(0,h.jsxs)("div",{children:[!i&&(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Status: "}),(0,h.jsx)("span",{onDoubleClick:function(){r(!0)},children:s.status||"no status"})]}),i&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(s){u(s.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),s.updateStatus(a)},value:a})})]})},T=e(7871),Z=function(s){var t=s.profile,e=s.isOwner,i=s.triggerEditMode;return(0,h.jsxs)(h.Fragment,{children:[e&&(0,h.jsx)("div",{children:(0,h.jsx)("button",{onClick:i,children:"Edit"})}),(0,h.jsxs)("div",{className:N,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Name:"})," ",t.fullName]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"yes":"no"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"My professional skills:"})," ",t.lookingForAJobDescription]})]}),(0,h.jsx)("div",{className:S,children:(0,h.jsxs)("div",{children:[(0,h.jsx)("b",{children:"Contacts:"}),Object.keys(t.contacts).map((function(s){return(0,h.jsx)(B,{title:s,value:t.contacts[s]},s)}))]})})]})},B=function(s){var t=s.title,e=s.value;return(0,h.jsxs)("div",{style:{fontWeight:"400"},children:[(0,h.jsxs)("b",{children:[t,":"]})," ",e]})},L=function(s){var t=s.profile,e=s.status,i=s.updateStatus,r=s.isOwner,o=s.uploadPhoto,l=s.saveProfile,a=(0,n.useState)(!1),u=(0,_.Z)(a,2),c=u[0],f=u[1];if(!t)return(0,h.jsx)(T.p,{});return(0,h.jsxs)("div",{className:P,children:[(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("img",{src:t.photos.large||d}),r&&(0,h.jsxs)("label",{className:"button "+y,children:[(0,h.jsx)("input",{type:"file",onChange:function(s){var t;null!==(t=s.target.files)&&void 0!==t&&t.length&&o(s.target.files[0])}}),"Upload a photo"]})]}),(0,h.jsxs)("div",{className:N,children:[c?(0,h.jsx)(I,{profile:t,initialValues:t,onSubmit:function(s){l(s).then((function(){f(!1)}))}}):(0,h.jsx)(Z,{profile:t,isOwner:r,triggerEditMode:function(){return f(!0)}}),(0,h.jsx)(M,{status:e,updateStatus:i})]})]})},E=function(s){return(0,h.jsxs)("div",{children:[(0,h.jsx)(L,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,uploadPhoto:s.uploadPhoto,saveProfile:s.saveProfile}),(0,h.jsx)(k,{})]})},G=e(2932),O=e(7781),F=e(8763);var D=(0,O.qC)((0,C.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorisedUserId:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfileTC:r.d$,getStatusTC:r.GP,updateStatusTC:r.OG,uploadPhotoTC:r.Yc,saveProfileTC:r.Ms}),F.E,G.D)((function(s){return(0,n.useEffect)((function(){!function(){var t;console.log(s.router);var e=s.router.params.userId;e||(e=null===(t=s.authorisedUserId)||void 0===t?void 0:t.toString()),e?(s.getUserProfileTC(Number(e)),s.getStatusTC(Number(e))):console.error("ID should exist in URI params or in state")}()}),[]),(0,h.jsx)(E,(0,i.Z)((0,i.Z)({},s),{},{isOwner:!s.router.params.userId,profile:s.profile,status:s.status,updateStatus:s.updateStatusTC,uploadPhoto:s.uploadPhotoTC,saveProfile:s.saveProfileTC}))}))},2932:function(s,t,e){e.d(t,{D:function(){return c}});var i=e(8683),n=e(5987),r=e(6871),o=(e(2791),e(364)),l=e(184),a=["isAuth"],u=function(s){return{isAuth:s.auth.isAuth}};function c(s){return(0,o.$j)(u,{})((function(t){var e=t.isAuth,o=(0,n.Z)(t,a);return e?(0,l.jsx)(s,(0,i.Z)({},o)):(0,l.jsx)(r.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=153.786650f9.chunk.js.map