"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[528],{6461:function(t,s,e){e.r(s),e.d(s,{default:function(){return I}});var n=e(8683),i=e(2791),r="ProfileInfo_wallpaper__y7EnZ",u="ProfileInfo_descriptionBlock__+Hix5",a=e(2648),o=e(8678),c=e(885),l=e(184),d=function(t){var s=(0,i.useState)(!1),e=(0,c.Z)(s,2),n=e[0],r=e[1],u=(0,i.useState)(t.status),a=(0,c.Z)(u,2),o=a[0],d=a[1];(0,i.useEffect)((function(){d(t.status)}),[t.status]);return(0,l.jsxs)("div",{children:[!n&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"---------"})}),n&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:function(t){d(t.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(o)},value:o})})]})},p=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:r,children:(0,l.jsx)("img",{src:"https://thumbs.dreamstime.com/b/cat-seamless-pattern-kitten-vector-calico-neko-breed-yarn-ball-character-cartoon-pet-tile-background-repeat-wallpaper-animal-242401729.jpg",width:"900px",height:"300px"})}),(0,l.jsxs)("div",{className:u,children:[(0,l.jsx)("img",{src:s.photos.large||o,width:"170px"}),(0,l.jsx)(d,{status:e,updateStatus:n})]})]}):(0,l.jsx)(a.p,{})},f=e(6407),h="MyPosts_postsBlock__rpM84",x="MyPosts_posts__Skefa",m="Post_item__Qmn6K",j="Post_likes__HlpcB",g=function(t){return(0,l.jsxs)("div",{className:m,children:[(0,l.jsx)("img",{src:"https://www.surfertoday.com/images/stories/surfingdog.jpg"}),t.message,(0,l.jsxs)("div",{className:j,children:[(0,l.jsx)("span",{children:"like"})," ",t.likesCount]})]})},v=e(6139),_=e(704),P=e(3079),k=e(6125),S=i.memo((function(t){var s=t.posts.map((function(t){return(0,l.jsx)(g,{message:t.message,likesCount:t.likesCount,id:t.id},t.id)}));return(0,l.jsxs)("div",{className:h,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(w,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,l.jsx)("div",{className:x,children:s})]})})),C=(0,P.D)(10),w=(0,_.Z)({form:"profileAddNewPostForm"})((function(t){return(0,l.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,l.jsx)("div",{children:(0,l.jsx)(v.Z,{name:"newPostText",component:k.Kx,placeholder:"Post message",validate:[P.C,C]})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"Add post"})})]})})),b=S,y=e(364),T=(0,y.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,f.Wl)(s))}}}))(b),Z=function(t){return(0,l.jsxs)("div",{children:[(0,l.jsx)(p,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,l.jsx)(T,{})]})},A=e(9271),N=e(2932);var I=(0,e(7781).qC)((0,y.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorisedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfileTC:f.d$,getStatusTC:f.GP,updateStatusTC:f.OG}),A.EN,N.D)((function(t){return(0,i.useEffect)((function(){var s=+t.match.params.userId;s||(s=t.authorisedUserId)||t.history.push("/login"),t.getUserProfileTC(s),t.getStatusTC(s)}),[]),(0,l.jsx)(Z,(0,n.Z)((0,n.Z)({},t),{},{profile:t.profile,status:t.status,updateStatus:t.updateStatusTC}))}))},2932:function(t,s,e){e.d(s,{D:function(){return l}});var n=e(8683),i=e(5987),r=e(9271),u=(e(2791),e(364)),a=e(184),o=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function l(t){return(0,u.$j)(c)((function(s){var e=s.isAuth,u=(0,i.Z)(s,o);return e?(0,a.jsx)(t,(0,n.Z)({},u)):(0,a.jsx)(r.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=528.154977de.chunk.js.map